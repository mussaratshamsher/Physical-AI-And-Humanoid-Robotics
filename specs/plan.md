# phase- 1
# Implementation Plan: AI-Native Textbook UI & Layout

**Branch**: `feat/textbook-ui` | **Date**: 2025-12-06 | **Spec**: [./.specify/textbook-generation.spec.md]
**Input**: Feature specification from `/.specify/textbook-generation.spec.md`

## Summary

The goal is to create a clean, modern, and easy-to-navigate Docusaurus-based website for the "Physical AI & Humanoid Robotics" AI-native textbook. This involves setting up the homepage with a hero section and six feature cards representing the chapters, and ensuring the documentation sidebar is automatically generated from the file structure.

## Technical Context

**Language/Version**: TypeScript
**Primary Dependencies**: Docusaurus, React
**Storage**: N/A
**Testing**: `npm run build` to ensure no build errors.
**Target Platform**: Web (Vercel)
**Project Type**: Web application
**Performance Goals**: Fast, responsive, and lightweight user experience.
**Constraints**: Must adhere to Docusaurus best practices and the project's minimalist design principles.
**Scale/Scope**: A single-page application with a documentation section spanning six chapters.

## Constitution Check

*   **Simplicity**: The plan adheres to simplicity by using Docusaurus's built-in features for routing and sidebar generation.
*   **Accuracy**: N/A for this UI-focused task.
*   **Minimalism**: The component structure is minimal, with a single `FeatureCard` component reused for all chapters.
*   **Fast Builds**: The solution uses standard Docusaurus configurations, which are optimized for fast builds.

## Project Structure

### Documentation (this feature)

```text
.specify/
├── textbook-generation.spec.md
└── plan.md
```

### Source Code (repository root)

```text
src/
├── components/
│   ├── FeatureCard.tsx
│   └── styles.module.css
├── css/
│   └── custom.css
└── pages/
    ├── index.module.css
    └── index.tsx
docs/
├── 01-intro-to-physical-ai/
│   ├── _category_.json
│   └── index.md
├── 02-basics-of-humanoid-robotics/
│   ├── _category_.json
│   └── index.md
├── 03-ros2-fundamentals/
│   ├── _category_.json
│   └── index.md
├── 04-digital-twin-simulation/
│   ├── _category_.json
│   └── index.md
├── 05-vision-language-action-systems/
│   ├── _category_.json
│   └── index.md
├── 06-capstone-project/
│   ├── _category_.json
│   └── index.md
└── intro.md
docusaurus.config.ts
vercel.json
```

**Structure Decision**: The project follows a standard Docusaurus structure. The `FeatureCard` component will be created to display chapter links on the homepage. The documentation will be organized into chapter-specific directories to enable autogenerated sidebars.

## Complexity Tracking

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| N/A       | N/A        | N/A                                 |
 # phase- 2
# Implementation Plan: AI-Powered Interactive Features

**Branch**: `feat/ai-features` | **Date**: 2025-12-09 | **Spec**: [./.specify/textbook-generation.spec.md]
**Input**: Updated constitution and feature specification from `/.specify/textbook-generation.spec.md`

## Summary

The goal is to enhance the "Physical AI & Humanoid Robotics" textbook by integrating AI-powered interactive features. This includes a RAG-based chatbot for answering questions, an on-demand translation service, and a personalization system to highlight content based on user interests. The entire solution will be built using a free-tier-first approach.

## Technical Context

**Language/Version**: TypeScript, **Python**
**Primary Dependencies**: Docusaurus, React, **FastAPI, Qdrant, Google Gemini**
**Storage**: **Qdrant Cloud** for vector storage.
**Testing**: `npm run build`, **Manual testing of API endpoints and chat functionality.**
**Target Platform**: Web (Vercel)
**Project Type**: Web application with a Python serverless backend.
**Performance Goals**: Fast, responsive UI; real-time streaming responses from the chatbot.
**Constraints**: Must adhere to the free-tier limitations of Vercel, Qdrant, and Google AI.

## Constitution Check

*   **Phased Development**: The plan is explicitly broken into three phases, starting with the core backend.
*   **Modularity**: Each feature (chat, translate, personalize) is planned as a separate component/endpoint.
*   **Minimalism**: The backend will be a lean FastAPI application deployed as serverless functions.
*   **Free-Tier First**: All selected technologies (FastAPI on Vercel, Qdrant, Gemini) have viable free tiers.

## Project Structure

### Source Code (repository root)

```text
.
├── api/
│   └── index.py            # FastAPI application
├── docs/
│   └── ...                 # Textbook markdown content
├── src/
│   ├── components/
│   │   ├── Chatbot/
│   │   │   └── index.tsx   # React component for the chat UI
│   │   └── ...
│   └── ...
├── .env                    # API keys and environment variables
├── ingest.py               # Script to process docs and load into Qdrant
├── requirements.txt        # Python dependencies
├── docusaurus.config.ts
└── vercel.json
```

**Structure Decision**: The project will adopt a monorepo structure suitable for Vercel. The core Docusaurus app remains as-is. A new `api/` directory will house the Python FastAPI backend. The `ingest.py` script and its dependencies (`requirements.txt`) will live at the root for easy execution.

## Implementation Phases

### Phase 1: Core RAG Backend
1.  **Setup Python Environment**: Create and manage a virtual environment (`.venv`) and install dependencies from `requirements.txt`.
2.  **Develop Ingestion Script (`ingest.py`)**:
    *   Read all markdown files from the `docs/` directory.
    *   Chunk the text content appropriately.
    *   Generate embeddings for each chunk using the Gemini API.
    *   Connect to Qdrant Cloud and upsert the chunks with their embeddings and metadata.
3.  **Develop FastAPI Backend (`api/index.py`)**:
    *   Create a `/api/chat` endpoint.
    *   The endpoint will receive a user query, create an embedding for it, search Qdrant for context, and stream a response from the Gemini API.

### Phase 2: Frontend Integration
1.  **Build Chat UI**: Develop a React component (`Chatbot/index.tsx`) that provides a user interface for the chat.
2.  **Connect UI to Backend**: Implement API calls from the React component to the FastAPI backend, handling loading states and streaming responses.
3.  **Deploy & Test**: Deploy the full stack to Vercel and test the end-to-end chat functionality.

### Phase 3: Advanced Features
1.  **Translation**:
    *   Add a `/api/translate` endpoint to the FastAPI app.
    *   Add a "Translate" button to the Docusaurus UI that calls this endpoint.
2.  **Personalization**:
    *   Create a simple quiz UI (React component).
    *   Store user interests in `localStorage`.
    *   "Swizzle" the Docusaurus `DocItem` component to read interests and dynamically highlight matching keywords in the content.
3.  **Conventional Search**:
    *   Integrate Algolia DocSearch into the Docusaurus configuration for fast, keyword-based searching.

## Complexity Tracking

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| N/A       | N/A        | N/A                                 |
